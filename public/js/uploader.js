// Generated by CoffeeScript 1.6.3
(function() {
  $(function() {
    var lat, lng, name, selected_file;
    selected_file = null;
    lat = "";
    lng = "";
    name = "";
    $('.video-upload').on('change', function(e) {
      selected_file = e.target.files[0];
      lat = $('.lat').val();
      lng = $('.lng').val();
      return name = $('.name').val();
    });
    return $('#upload-me').on('click', function(e) {
      var FReader;
      FReader = new FileReader();
      FReader.onload = function(e) {
        return socket.emit('upload', {
          'name': name,
          'lat': lat,
          'lng': lng,
          'data': e.target.result
        });
      };
      return socket.emit('start', {
        'name': name,
        'lat': lat,
        'lng': lng,
        'data': selected_file.size
      });
    });
  });

}).call(this);
